<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ciel Arlines</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <link rel="stylesheet" href="buscaTeste.css">
    <link rel="icon" href="../../assets/img/logo.png">
    
</head>
<body>
<!--navBar-->
    <div class="card text-center" id="nav">
        <div class="card-header" id="nav">
          <a class="navbar-brand" href="#">
            <img src="../../../src/assets/img/logo_nome.png" alt="Logo" width="200" height="70" alt="logo" draggable="false" >
          </a>
          <ul class="nav nav-tabs card-header-tabs">
            <li class="nav-item">
              <a class="nav-link active custom-nav-link" aria-current="true" href="#">Passagens</a>
            </li>
          </ul>
        </div>
        <div class="card-body" id="nav">
          <div class="background-img">
            <h5 class="card-title" id="nav">PASSAGENS</h5>
            <p class="card-text" id="nav">Escolha seu voo</p>
          </div>
        </div>
      </div>
<!--criação dos voos-->
      <div id="voo_container"></div>
<script>




// Função para criar um card de voo dinamicamente
function createVooCard( origem, destino, data, preco, idVoo) {
    const VooContainer = document.getElementById('voo_container');

    // Criar o elemento do card de voo
    const VooCard = document.createElement('div');
    VooCard.className = 'voo-card';

    // Criar o botao de selecionar
    const btnSelecionar = document.createElement('button');
    btnSelecionar.textContent = 'Selecionar';

    // atribuir id do Voo para o botao
    btnSelecionar.setAttribute('data-voo-id', idVoo);

     //adiciona o evento que reconhece o clique do botao 'Selecionar' e chama a funcao
     // selecionarVoo passando o id do botão como parametro
    btnSelecionar.addEventListener('click', function() {
      selecionarVoo(idVoo);   
    });
    // Preencher o card com informações
    VooCard.innerHTML = `
        <div class="voo-details">
            <div><p>Origem</p><h2>${origem}</h2></div>
            <div><img src="../../../src/assets/img/aviaoIcon.png"></div>
            <div><p>Destino</p><h2>${destino}</h2></div>
            <div><h2>${data}</h2></div>
            <div class="voo-preco">R$${preco}</div>
        </div>  
    `;
    
    // Adicionar o card ao container de voos
    VooCard.appendChild(btnSelecionar);

    VooContainer.appendChild(VooCard);
}

// Função chamada ao clicar no botão 'Selecionar'
function selecionarVoo(idVoo) {
  console.log(`voo selecionado com ID: ${idVoo}`); // verificacao no console

    // Redirecionar para a prox página com o ID do voo na URL
    window.location.href = `testehoje.html?idVoo=${idVoo}`;
}
    // Exemplo de uso da função
    createVooCard("São Paulo", "Rio de Janeiro", "2023-11-30", 500.00, 1);
    createVooCard('Cidade1', 'Cidade2', '2023-12-01', 200,4);
    createVooCard('Cidade1', 'Cidade2', '2023-12-01', 200, 3);
</script>
</body>
</html>
