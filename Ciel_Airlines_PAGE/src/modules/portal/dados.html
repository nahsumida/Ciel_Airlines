<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dados</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <link rel="stylesheet" href="dados.css">
    <link rel="icon" href="../../assets/img/logo.png">
</head>
<body>
  <!--navBar-->
    <div class="card text-center" id="nav">
        <div class="card-header" id="nav">
          <a class="navbar-brand" href="#">
            <img src="../../../src/assets/img/logo_nome.png" alt="Logo" width="200" height="70" alt="logo" draggable="false" >
          </a>
          <ul class="nav nav-tabs card-header-tabs">
            <li class="nav-item">
              <a class="nav-link active custom-nav-link" aria-current="true" href="#">Passagens</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="portalbusca.html">Home</a>
            </li>
            </li>
          </ul>
        </div>
        <div class="card-body" id="nav">
          <div class="background-img">
            <h5 class="card-title" id="nav">PASSAGENS</h5>
            <p class="card-text" id="nav">Dados</p>
          </div>
        </div>
      </div>
      <!--informações que seram pedidas-->
      <div class="container">
        <h2>Confime seus dados</h2>

        <p>Nome: <span id="nomeConfirmado"></span></p>
        <p>E-mail: <span id="emailConfirmado"></span></p>
        <p>CPF: <span id="cpfConfirmado"></span></p>
        <p>Telefone: <span id="telefoneConfirmado"></span></p>
        <p>Data Nascimento: <span id="dataConfirmado"></span></p>

        <label for name="pagamento">Selecione o Método de Pagamento</label>
        <select class="form-select" name="pagamento" id="pagamentoSelect">
          <option selected disabled></option>
          <option value="1" id="pix">PIX</option>
          <option value="2" id="cartao">Cartão de Crédito</option>
        </select>

        <button onclick="voltar()">Voltar</button> <!--chama função js-->
        <button onclick="confirma()">Confirma</button> <!--chama função js-->
    </div>
    <script src="portal.js"></script>
    <script>
        // Obtenha os dados armazenados em sessionStorage
        //'sessionStorege' armazena dados de forma simples e sem expiração, ou seja, ficam lá enquanto não apagarmos por código ou pelo próprio navegado
        var nomeConfirmado = sessionStorage.getItem('nomeConfirmado');
        var emailConfirmado = sessionStorage.getItem('emailConfirmado');
        var cpfConfirmado = sessionStorage.getItem('cpfConfirmado');
        var telefoneConfirmado = sessionStorage.getItem('telefoneConfirmado');
        var dataConfirmado = sessionStorage.getItem('dataConfirmado');

        // Exibir os dados na página
        document.getElementById('nomeConfirmado').innerText = nomeConfirmado;
        document.getElementById('emailConfirmado').innerText = emailConfirmado;
        document.getElementById('cpfConfirmado').innerText = cpfConfirmado;
        document.getElementById('telefoneConfirmado').innerText = telefoneConfirmado;
        document.getElementById('dataConfirmado').innerText = dataConfirmado;

        //armazenar metodo de pagamento escolhido
        var selectbox = document.getElementById("pagamentoSelect"); // caixa de seleção com id "pagamentoSelect"
        selectbox.addEventListener("change",function(){
          var selectedIndex = selectbox.selectedIndex; // Índice da opção selecionada
          var selectedOption = selectbox.options[selectedIndex]; // Opção selecionada
          var selectedValue = selectedOption.value; // Valor da opção selecionada

          console.log('Método de Pagamento Selecionado:', selectedValue);
          metodoPag= sessionStorage.setItem('metodoPagamento', selectedValue); // armazena em session storage
        });


        const idVoo = obterParametroUrl('idVoo');

        //função para o botão, abre uma pagina html
        function voltar() {
          window.location.href = `informacoes.html?idVoo=${idVoo}`;
        }
        //função para o botão, abre uma pagina html
        function confirma() {

          var metodoPag = sessionStorage.getItem('metodoPagamento');
          if (metodoPag === "1"){
            window.location.href = `pagamento_pix.html?idVoo=${idVoo}`;
          } else if (metodoPag === "2"){
            window.location.href = `pagamento_cartao.html?idVoo=${idVoo}`;
          }
        }
    </script>
</body>
</html>

